<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Extract event probabilities from fitted regression models and machine learning objects.
The function predictRisk is a generic function, meaning that it invokes
specifically designed functions depending on the 'class' of the first
argument. See predictRisk."><title>Extrating predicting risks from regression models — predictRisk • riskRegression</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extrating predicting risks from regression models — predictRisk"><meta property="og:description" content="Extract event probabilities from fitted regression models and machine learning objects.
The function predictRisk is a generic function, meaning that it invokes
specifically designed functions depending on the 'class' of the first
argument. See predictRisk."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">riskRegression</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2022.09.29</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/IFAUC.html">Derivation of the Influence Function for AUC for competing risk data and survival data</a>
    <a class="dropdown-item" href="../articles/IFBrier.html">Influence function calculation for Brier score for event time data</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tagteam/riskRegression/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Extrating predicting risks from regression models</h1>
      <small class="dont-index">Source: <a href="https://github.com/tagteam/riskRegression/blob/HEAD/R/predictRisk.R" class="external-link"><code>R/predictRisk.R</code></a>, <a href="https://github.com/tagteam/riskRegression/blob/HEAD/R/wglm.R" class="external-link"><code>R/wglm.R</code></a></small>
      <div class="d-none name"><code>predictRisk.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extract event probabilities from fitted regression models and machine learning objects.
The function predictRisk is a generic function, meaning that it invokes
specifically designed functions depending on the 'class' of the first
argument. See <code>predictRisk</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for default</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for double</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for integer</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for factor</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for numeric</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for glm</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, iid <span class="op">=</span> <span class="cn">FALSE</span>, average.iid <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for formula</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for BinaryTree</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for lrm</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for rpart</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for randomForest</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for matrix</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for aalen</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for cox.aalen</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for comprisk</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for coxph</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">newdata</span>,</span>
<span>  <span class="va">times</span>,</span>
<span>  product.limit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  diag <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  iid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  average.iid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for coxphTD</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">landmark</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for CSCTD</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">landmark</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for coxph.penal</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for cph</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">newdata</span>,</span>
<span>  <span class="va">times</span>,</span>
<span>  product.limit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  diag <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  iid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  average.iid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for selectCox</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for prodlim</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for survfit</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for psm</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for ranger</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for rfsrc</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for FGR</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for riskRegression</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for ARR</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for CauseSpecificCox</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">newdata</span>,</span>
<span>  <span class="va">times</span>,</span>
<span>  <span class="va">cause</span>,</span>
<span>  product.limit <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diag <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  iid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  average.iid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for penfitS3</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for SuperPredictor</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for gbm</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for flexsurvreg</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for Hal9001</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for singleEventCB</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">times</span>, <span class="va">cause</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for wglm</span></span>
<span><span class="fu">predictRisk</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">newdata</span>,</span>
<span>  times <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  product.limit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  diag <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  iid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  average.iid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>A fitted model from which to extract predicted event
probabilities.</p></dd>


<dt>newdata</dt>
<dd><p>A data frame containing predictor variable combinations for
which to compute predicted event probabilities.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments that are passed on to the current method.</p></dd>


<dt>times</dt>
<dd><p>A vector of times in the range of the response variable, for
which the cumulative incidences event probabilities are computed.</p></dd>


<dt>cause</dt>
<dd><p>Identifies the cause of interest among the competing events.</p></dd>


<dt>iid</dt>
<dd><p>Should the iid decomposition be output using an attribute?</p></dd>


<dt>average.iid</dt>
<dd><p>Should the average iid decomposition be output using an attribute?</p></dd>


<dt>product.limit</dt>
<dd><p>If <code>TRUE</code> the survival is computed using the product limit estimator.
Otherwise the exponential approximation is used (i.e. exp(-cumulative hazard)).</p></dd>


<dt>diag</dt>
<dd><p>when <code>FALSE</code> the hazard/cumlative hazard/survival for all observations at all times is computed,
otherwise it is only computed for the i-th observation at the i-th time.</p></dd>


<dt>landmark</dt>
<dd><p>The starting time for the computation of the cumulative risk.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>For binary outcome a vector with predicted risks. For survival outcome with and without
competing risks
a matrix with as many rows as <code>NROW(newdata)</code> and as many
columns as <code>length(times)</code>. Each entry is a probability and in
rows the values should be increasing.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In uncensored binary outcome data there is no need to choose a time point.</p>
<p>When operating on models for survival analysis (without competing risks) the function still
predicts the risk, as 1 - S(t|X) where S(t|X) is survival chance of a subject characterized
by X.</p>
<p>When there are competing risks (and the data are right censored) one needs
to specify both the time horizon for prediction (can be a vector) and the
cause of the event. The function then extracts the absolute risks F_c(t|X)
aka the cumulative incidence of an event of type/cause c until time t for a
subject characterized by X. Depending on the model it may or not be possible
to predict the risk of all causes in a competing risks setting. For example. a
cause-specific Cox (CSC) object allows to predict both cases whereas a Fine-Gray regression
model (FGR) is specific to one of the causes.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Thomas A. Gerds <a href="mailto:tag@biostat.ku.dk">tag@biostat.ku.dk</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## binary outcome</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hbiostat.org/R/rms/" class="external-link">rms</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="sampleData.html">sampleData</a></span><span class="op">(</span><span class="fl">80</span>,outcome<span class="op">=</span><span class="st">"binary"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nd</span> <span class="op">&lt;-</span> <span class="fu"><a href="sampleData.html">sampleData</a></span><span class="op">(</span><span class="fl">80</span>,outcome<span class="op">=</span><span class="st">"binary"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rms/man/lrm.html" class="external-link">lrm</a></span><span class="op">(</span><span class="va">Y</span><span class="op">~</span><span class="va">X1</span><span class="op">+</span><span class="va">X8</span>,data<span class="op">=</span><span class="va">d</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">fit</span>,newdata<span class="op">=</span><span class="va">nd</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.7339412 0.5205004 0.6501073 0.5979307 0.5552337 0.6813442 0.5138679</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 0.4869184 0.5723498 0.7074138 0.4503456 0.6303146 0.6940030 0.7019831</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15] 0.7304874 0.5405902 0.6450002 0.6896565 0.6689911 0.6865119 0.7344731</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22] 0.6689586 0.6906598 0.6615316 0.6682134 0.7072245 0.5725908 0.6725140</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29] 0.7493084 0.5723684 0.5466048 0.5498836 0.6665991 0.4635920 0.6969143</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [36] 0.5879416 0.5341623 0.6023531 0.5320208 0.6121940 0.5766031 0.4807605</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [43] 0.7727554 0.5650180 0.5466259 0.6760755 0.6716273 0.6953790 0.6627699</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [50] 0.6865030 0.7738892 0.5867579 0.7673772 0.5591252 0.6120579 0.7014891</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [57] 0.5616479 0.6084543 0.5823368 0.4629641 0.5386492 0.7027465 0.6637092</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [64] 0.6194466 0.4777845 0.4645041 0.5229923 0.5819439 0.5879641 0.5579212</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [71] 0.6642978 0.5665127 0.4391573 0.4995590 0.6802095 0.5770284 0.5952840</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [78] 0.5303929 0.5633104 0.7699667</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ecpolley/SuperLearner" class="external-link">SuperLearner</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sl</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/SuperLearner/man/SuperLearner.html" class="external-link">SuperLearner</a></span><span class="op">(</span>Y <span class="op">=</span> <span class="va">d</span><span class="op">$</span><span class="va">Y</span>, X <span class="op">=</span> <span class="va">d</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span>, family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      SL.library <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SL.mean"</span>, <span class="st">"SL.glmnet"</span>, <span class="st">"SL.randomForest"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## survival outcome</span></span></span>
<span class="r-in"><span><span class="co"># generate survival data</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">prodlim</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="sampleData.html">sampleData</a></span><span class="op">(</span><span class="fl">100</span>,outcome<span class="op">=</span><span class="st">"survival"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span><span class="op">[</span>,<span class="va">X1</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">X1</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            X6       X7            X8          X9         X10 X1 X2 X3 X4 X5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1: 67.60713 69.67119 -1.446287e+00 -1.28482865 -1.85544523  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2: 60.83520 59.93708  3.158558e-01 -0.14178173 -1.01856471  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3: 80.69528 53.74057 -3.427475e-01  1.43878477 -1.04511109  0  0  1  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4: 73.35923 63.87398 -1.931353e+00 -1.04005754 -0.65128765  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5: 37.84050 64.01945  2.428210e-01 -1.02383795  0.38268265  0  1  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6: 90.13616 52.50619 -3.627679e-01  1.09477379  1.03189971  0  0  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7: 73.57762 62.92928  2.432729e+00 -2.01392688  0.13107497  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8: 69.44575 55.79672  5.920912e-01 -1.04657680  0.37719173  0  1  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   9: 79.20880 56.13008 -5.762008e-01  0.83340995 -1.88769508  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  10: 39.05374 53.95725  4.066282e-01  0.60860245  0.52021940  0  0  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  11: 61.16817 60.09412 -4.525463e-02  1.08405733  0.85915316  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  12: 34.08836 53.16334  4.409000e-01  0.17271042 -0.80248866  0  0  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  13: 71.57107 50.04946  2.235376e+00  1.51619199 -0.49196052  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  14: 62.34562 49.21902 -5.861548e-01 -0.21720846 -0.21095432  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  15: 52.31432 60.33588  5.993602e-01 -0.10825074 -0.46367661  1  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  16: 63.89778 64.30127  1.274233e+00 -0.35771655  0.29947957  0  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  17: 78.02487 56.08356 -9.117712e-01  0.32704438 -0.60547383  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  18: 66.53057 57.21910 -1.375459e+00 -2.01294422 -0.43901213  0  0  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  19: 64.85693 63.53475 -2.877269e-01 -0.14969455 -0.72075363  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  20: 76.68702 60.95784  8.148341e-02 -0.93219123  0.78080503  1  0  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  21: 95.81304 68.19839  3.378953e-01  0.27841306 -1.22228428  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  22: 71.07430 59.12232  5.661375e-01  0.81683628  0.89119404  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  23: 46.48704 58.18766 -9.342229e-01 -0.43026026  0.25392284  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  24: 71.36911 70.80791  1.726770e+00  0.57233004 -0.06581643  0  1  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  25: 79.60886 59.34964  1.588315e+00  0.17699375  0.20146603  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  26: 66.70295 53.43514 -1.037447e+00  1.11357174  2.47770051  0  0  1  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  27: 47.23156 63.29879  3.695074e-01 -0.58710491  0.47175279  0  0  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  28: 44.28079 60.45902  4.386581e-01 -1.73823332  1.32619808  1  1  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  29: 60.05991 62.24036 -8.779960e-01  0.65367143  0.66859849  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  30: 38.70624 62.72042  7.609176e-01 -0.18665642 -0.13739441  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  31: 67.43238 68.10389  6.428198e-02  0.63935678 -1.41117170  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  32: 74.46442 66.60646  2.298479e+00 -0.03184133  1.20036310  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  33: 67.72103 59.51079 -1.299978e+00  1.00223585  0.29909011  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  34: 43.33935 61.92117 -1.079637e+00 -0.64106663  0.45622688  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  35: 55.61299 63.87521  1.488323e+00  0.25103701  0.43807844  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  36: 88.86030 62.03224 -2.307636e-01  0.57503544 -0.21502114  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  37: 24.58929 59.86608  6.650739e-01 -0.63502220 -0.31212248  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  38: 53.61840 66.70530 -1.160317e+00  0.85728350 -0.69263042  0  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  39: 57.00281 63.72455  1.081541e+00  1.10488241 -2.39622968  0  0  1  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  40: 76.21916 57.76666  4.242119e-01 -2.40522528 -1.58427493  0  1  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  41: 51.28725 56.31585  7.760563e-01 -0.70096498  1.75874823  0  0  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  42: 56.82391 55.74713 -7.227887e-01  0.02844935 -2.36288679  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  43: 53.81463 53.29963  5.090754e-01  1.71749203  0.39317207  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  44: 65.93194 63.29139  1.546150e-01 -1.12829486  0.56593786  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  45: 39.94235 58.21823  3.092472e-01  1.08624613 -1.04399037  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  46: 94.66977 60.24721  3.165137e-01  1.30588495  1.02311329  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  47: 54.74263 54.57329  7.076799e-01 -0.98826461 -0.51266401  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  48: 55.18345 60.18326 -4.624353e-01 -0.22741791  0.04773667  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  49: 53.56558 46.88199  1.698303e+00 -0.14210333  1.39287700  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50: 56.55583 49.26344 -8.619856e-01  0.39601296 -0.43249913  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  51: 59.16123 65.46242 -1.051830e+00 -1.93943938 -0.13516784  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  52: 54.41932 51.57829  5.315186e-01 -3.32078221  1.29773515  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  53: 67.11450 57.46777  7.728399e-02  0.94208189 -0.07072648  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  54: 59.07443 53.54999 -1.024841e+00  0.03715139 -0.42082819  1  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  55: 28.08466 56.69819  1.441593e-01 -0.25855501  1.14134036  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  56: 44.96644 60.55578 -2.208962e-01  0.34439414 -0.42712648  1  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  57: 52.23293 68.44091 -9.773315e-01  0.14935523  1.39566961  0  1  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  58: 93.15315 67.20975  3.352802e-01  0.94046373 -0.29618717  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  59: 64.87477 61.03908  1.587367e+00 -2.21790192  0.58265961  0  0  1  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  60: 40.84787 57.32315  1.269826e+00 -1.79355876 -2.67622935  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  61: 91.17939 61.26102  2.887333e+00  1.69210689 -1.40067901  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  62: 68.26378 55.15752  6.832389e-01 -1.67249615  3.30415111  0  1  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  63: 90.15721 60.25976 -6.769761e-01 -1.73719284  0.85677754  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  64: 55.68636 66.36291 -1.638704e-01 -0.02663486  1.16101645  0  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  65: 67.22259 57.66221  7.096116e-01  0.06580442  0.27893689  1  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  66: 39.32216 57.32037 -1.053669e+00 -1.46232344 -0.01354850  0  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  67: 73.84366 64.15761 -9.562285e-01 -0.41940470 -2.67637889  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  68: 47.70464 61.77510 -9.451874e-01  0.57684701  0.12131445  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  69: 50.25840 62.26019  2.247884e-01 -0.60692236 -0.50054324  0  0  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  70: 82.33657 64.39757  3.594552e-01 -0.06921954  1.37967791  1  0  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  71: 45.88178 59.45799 -6.637104e-01  1.33394384 -0.40598666  0  0  1  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  72: 42.38993 47.80939 -1.265082e-01 -0.76774206  1.39593194  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  73: 71.89668 63.67757  1.642374e+00  0.55319467  0.73859616  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  74: 48.05875 52.65778 -5.070985e-01 -1.70865790  0.73661415  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  75: 74.84172 61.88597 -5.184870e-01 -0.52672810 -0.73308795  0  1  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  76: 91.60804 63.32283  1.343653e+00  2.06376423 -1.89839605  0  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  77: 87.40961 59.72468  8.748702e-02  0.42372826  0.44587930  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  78: 65.89167 60.84810  5.376727e-01  1.00855573  0.45626086  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  79: 58.56517 65.99554  1.492186e+00  1.36114180 -1.52619721  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  80: 71.10492 64.14804  8.767927e-01 -0.10595486 -0.08058262  0  0  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  81: 77.02966 66.49966  4.958852e-01  0.04150070 -0.34001061  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  82: 71.90150 53.59561 -2.473539e-01  1.11989772  0.05368080  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  83: 71.35316 55.32200 -7.287776e-01  0.23916287 -0.69163485  0  1  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  84: 55.30238 61.83689  8.741936e-01 -1.03908394 -0.30349490  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  85: 22.60817 59.94846 -7.606030e-01 -0.49175571 -1.19501405  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  86: 58.87421 57.04893  4.029195e-01  0.38418962  1.01973592  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  87: 46.09025 64.62609 -5.317420e-01 -0.14747227 -0.47844422  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  88: 78.52232 59.53003  1.193348e-05 -0.65047518 -0.65949205  1  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  89: 62.74970 64.89474  8.181784e-01  0.05630389  0.67887965  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  90: 72.57549 55.50661  2.691192e-01 -0.24660122 -0.10535533  1  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  91: 70.05943 61.18653 -3.880011e-01  1.23622156 -0.45371767  0  1  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  92: 39.53909 56.46051 -3.247585e-01 -0.17832690  1.34143863  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  93: 69.97910 53.47501  1.680009e+00  1.23646958  0.98595720  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  94: 70.89334 64.13688 -2.880736e+00 -1.08216683 -1.19546478  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  95: 64.40614 62.91072  6.221381e-01 -0.49419020 -0.57485857  1  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  96: 45.97832 53.21347 -2.203552e+00 -1.71111303  0.98199136  1  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  97: 78.72715 61.59434 -2.726918e-01  0.04005805 -1.65738323  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  98: 34.65440 58.68629 -9.221195e-01 -0.56114348 -1.11964693  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  99: 82.23566 54.07995 -3.062827e-01 -2.55736206 -1.17082441  0  1  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100: 76.36865 60.93626  2.536559e+00 -0.69677881 -1.13905161  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            X6       X7            X8          X9         X10 X1 X2 X3 X4 X5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       eventtime  censtime       time event</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:  6.7778319 10.855483  6.7778319     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:  9.9851341 11.645024  9.9851341     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:  0.8401512  7.704695  0.8401512     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:  8.5391295 16.957550  8.5391295     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5: 14.9499500  8.706974  8.7069741     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6:  2.6489767  8.521409  2.6489767     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7:  1.3483311  4.558061  1.3483311     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8:  0.5893505  9.966877  0.5893505     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   9:  2.4964235  7.772476  2.4964235     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  10: 18.8061049 13.305700 13.3057001     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  11: 12.0984084  6.855722  6.8557222     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  12: 21.3980774  3.540841  3.5408414     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  13:  7.8763135 11.276980  7.8763135     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  14:  4.8244485  9.592070  4.8244485     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  15:  4.3768039  5.206590  4.3768039     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  16:  9.3937423  6.339864  6.3398641     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  17:  8.5220276 12.596186  8.5220276     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  18:  1.4842932 10.141747  1.4842932     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  19: 10.6713543 10.114892 10.1148916     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  20:  1.7064612  6.088043  1.7064612     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  21:  2.8615077  7.899199  2.8615077     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  22:  1.9236250  5.842592  1.9236250     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  23:  5.5264960  7.869236  5.5264960     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  24: 12.0467048  5.376368  5.3763684     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  25:  4.3452714  9.312674  4.3452714     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  26:  3.9798130 13.280201  3.9798130     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  27:  9.7418576  5.108553  5.1085530     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  28:  1.6712251  3.544233  1.6712251     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  29: 14.2462641  7.742614  7.7426139     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  30: 29.8433725 11.318694 11.3186940     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  31: 14.9946246  8.466481  8.4664812     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  32:  1.2118202  2.723590  1.2118202     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  33: 18.4143115 10.264338 10.2643379     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  34: 26.0671465  2.166248  2.1662481     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  35:  6.0249198  6.028674  6.0249198     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  36:  0.6641801  3.422689  0.6641801     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  37: 22.5921361 13.086399 13.0863995     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  38: 40.7684690  6.804431  6.8044311     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  39: 10.9267374  1.024241  1.0242411     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  40:  0.4892511 14.275858  0.4892511     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  41:  4.3338206 10.519805  4.3338206     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  42: 11.2127745  3.806395  3.8063949     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  43:  4.5942554  5.015606  4.5942554     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  44:  4.9708097  4.354121  4.3541213     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  45: 16.6936971  7.108448  7.1084479     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  46:  6.3725349  8.431128  6.3725349     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  47:  5.0931095  4.979978  4.9799783     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  48:  4.7723257  3.507726  3.5077262     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  49:  3.9452410 12.536322  3.9452410     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50:  9.9472450 10.865670  9.9472450     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  51:  6.5412516 10.521684  6.5412516     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  52:  1.2047660 12.712452  1.2047660     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  53:  3.2931742 12.021729  3.2931742     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  54:  2.8338257 11.363962  2.8338257     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  55: 36.7224759  7.248422  7.2484217     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  56:  8.9401593 11.716753  8.9401593     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  57: 36.2736286 14.462426 14.4624255     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  58:  1.4994490 12.124707  1.4994490     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  59:  0.8575735  7.175479  0.8575735     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  60:  3.8093308 12.465804  3.8093308     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  61:  1.0798844  8.766498  1.0798844     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  62:  1.2428148  6.597368  1.2428148     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  63:  0.4860709  2.005622  0.4860709     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  64: 22.4887895  6.252786  6.2527863     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  65:  0.7896928  8.996379  0.7896928     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  66: 22.7244665 10.138315 10.1383154     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  67:  4.7921419  8.864827  4.7921419     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  68: 14.6746626  8.993059  8.9930592     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  69: 18.5979601 11.857990 11.8579898     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  70:  1.6670672  6.039686  1.6670672     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  71: 24.7839327  9.413590  9.4135900     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  72:  5.7111205 10.562092  5.7111205     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  73:  2.2063292  7.467459  2.2063292     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  74:  6.8294418  1.831877  1.8318769     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  75:  2.4217336  6.425135  2.4217336     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  76:  4.6512264  6.859208  4.6512264     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  77:  3.5804775  3.933475  3.5804775     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  78:  9.7949584  5.051511  5.0515106     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  79:  9.6808401  4.260157  4.2601571     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  80:  5.4480162 15.463842  5.4480162     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  81:  1.6643375  8.817941  1.6643375     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  82:  6.2972809  7.154224  6.2972809     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  83:  0.9294319  2.892817  0.9294319     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  84:  7.6141555  1.316250  1.3162500     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  85: 16.2001667 18.098005 16.2001667     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  86: 11.4249161  7.404659  7.4046588     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  87: 20.8327994  5.569390  5.5693901     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  88:  0.4273145 11.795497  0.4273145     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  89:  3.3500529 10.961390  3.3500529     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  90:  0.5275823  5.567523  0.5275823     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  91:  4.1258922  3.125110  3.1251101     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  92:  5.5389253 12.496082  5.5389253     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  93:  1.8459367 10.133296  1.8459367     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  94:  9.9258411  8.957090  8.9570896     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  95:  1.2407218  3.134412  1.2407218     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  96:  4.6466306  9.711062  4.6466306     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  97:  1.9163111  8.116795  1.9163111     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  98: 14.5709719 14.413642 14.4136417     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  99:  1.0470911 18.712860  1.0470911     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100:  2.2608531  5.089427  2.2608531     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       eventtime  censtime       time event</span>
<span class="r-in"><span><span class="va">d</span><span class="op">[</span>,<span class="va">X2</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">X2</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            X6       X7            X8          X9         X10 X1 X2 X3 X4 X5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1: 67.60713 69.67119 -1.446287e+00 -1.28482865 -1.85544523  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2: 60.83520 59.93708  3.158558e-01 -0.14178173 -1.01856471  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3: 80.69528 53.74057 -3.427475e-01  1.43878477 -1.04511109  0  0  1  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4: 73.35923 63.87398 -1.931353e+00 -1.04005754 -0.65128765  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5: 37.84050 64.01945  2.428210e-01 -1.02383795  0.38268265  0  1  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6: 90.13616 52.50619 -3.627679e-01  1.09477379  1.03189971  0  0  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7: 73.57762 62.92928  2.432729e+00 -2.01392688  0.13107497  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8: 69.44575 55.79672  5.920912e-01 -1.04657680  0.37719173  0  1  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   9: 79.20880 56.13008 -5.762008e-01  0.83340995 -1.88769508  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  10: 39.05374 53.95725  4.066282e-01  0.60860245  0.52021940  0  0  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  11: 61.16817 60.09412 -4.525463e-02  1.08405733  0.85915316  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  12: 34.08836 53.16334  4.409000e-01  0.17271042 -0.80248866  0  0  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  13: 71.57107 50.04946  2.235376e+00  1.51619199 -0.49196052  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  14: 62.34562 49.21902 -5.861548e-01 -0.21720846 -0.21095432  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  15: 52.31432 60.33588  5.993602e-01 -0.10825074 -0.46367661  1  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  16: 63.89778 64.30127  1.274233e+00 -0.35771655  0.29947957  0  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  17: 78.02487 56.08356 -9.117712e-01  0.32704438 -0.60547383  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  18: 66.53057 57.21910 -1.375459e+00 -2.01294422 -0.43901213  0  0  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  19: 64.85693 63.53475 -2.877269e-01 -0.14969455 -0.72075363  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  20: 76.68702 60.95784  8.148341e-02 -0.93219123  0.78080503  1  0  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  21: 95.81304 68.19839  3.378953e-01  0.27841306 -1.22228428  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  22: 71.07430 59.12232  5.661375e-01  0.81683628  0.89119404  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  23: 46.48704 58.18766 -9.342229e-01 -0.43026026  0.25392284  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  24: 71.36911 70.80791  1.726770e+00  0.57233004 -0.06581643  0  1  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  25: 79.60886 59.34964  1.588315e+00  0.17699375  0.20146603  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  26: 66.70295 53.43514 -1.037447e+00  1.11357174  2.47770051  0  0  1  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  27: 47.23156 63.29879  3.695074e-01 -0.58710491  0.47175279  0  0  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  28: 44.28079 60.45902  4.386581e-01 -1.73823332  1.32619808  1  1  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  29: 60.05991 62.24036 -8.779960e-01  0.65367143  0.66859849  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  30: 38.70624 62.72042  7.609176e-01 -0.18665642 -0.13739441  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  31: 67.43238 68.10389  6.428198e-02  0.63935678 -1.41117170  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  32: 74.46442 66.60646  2.298479e+00 -0.03184133  1.20036310  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  33: 67.72103 59.51079 -1.299978e+00  1.00223585  0.29909011  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  34: 43.33935 61.92117 -1.079637e+00 -0.64106663  0.45622688  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  35: 55.61299 63.87521  1.488323e+00  0.25103701  0.43807844  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  36: 88.86030 62.03224 -2.307636e-01  0.57503544 -0.21502114  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  37: 24.58929 59.86608  6.650739e-01 -0.63502220 -0.31212248  0  1  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  38: 53.61840 66.70530 -1.160317e+00  0.85728350 -0.69263042  0  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  39: 57.00281 63.72455  1.081541e+00  1.10488241 -2.39622968  0  0  1  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  40: 76.21916 57.76666  4.242119e-01 -2.40522528 -1.58427493  0  1  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  41: 51.28725 56.31585  7.760563e-01 -0.70096498  1.75874823  0  0  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  42: 56.82391 55.74713 -7.227887e-01  0.02844935 -2.36288679  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  43: 53.81463 53.29963  5.090754e-01  1.71749203  0.39317207  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  44: 65.93194 63.29139  1.546150e-01 -1.12829486  0.56593786  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  45: 39.94235 58.21823  3.092472e-01  1.08624613 -1.04399037  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  46: 94.66977 60.24721  3.165137e-01  1.30588495  1.02311329  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  47: 54.74263 54.57329  7.076799e-01 -0.98826461 -0.51266401  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  48: 55.18345 60.18326 -4.624353e-01 -0.22741791  0.04773667  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  49: 53.56558 46.88199  1.698303e+00 -0.14210333  1.39287700  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50: 56.55583 49.26344 -8.619856e-01  0.39601296 -0.43249913  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  51: 59.16123 65.46242 -1.051830e+00 -1.93943938 -0.13516784  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  52: 54.41932 51.57829  5.315186e-01 -3.32078221  1.29773515  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  53: 67.11450 57.46777  7.728399e-02  0.94208189 -0.07072648  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  54: 59.07443 53.54999 -1.024841e+00  0.03715139 -0.42082819  1  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  55: 28.08466 56.69819  1.441593e-01 -0.25855501  1.14134036  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  56: 44.96644 60.55578 -2.208962e-01  0.34439414 -0.42712648  1  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  57: 52.23293 68.44091 -9.773315e-01  0.14935523  1.39566961  0  1  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  58: 93.15315 67.20975  3.352802e-01  0.94046373 -0.29618717  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  59: 64.87477 61.03908  1.587367e+00 -2.21790192  0.58265961  0  0  1  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  60: 40.84787 57.32315  1.269826e+00 -1.79355876 -2.67622935  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  61: 91.17939 61.26102  2.887333e+00  1.69210689 -1.40067901  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  62: 68.26378 55.15752  6.832389e-01 -1.67249615  3.30415111  0  1  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  63: 90.15721 60.25976 -6.769761e-01 -1.73719284  0.85677754  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  64: 55.68636 66.36291 -1.638704e-01 -0.02663486  1.16101645  0  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  65: 67.22259 57.66221  7.096116e-01  0.06580442  0.27893689  1  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  66: 39.32216 57.32037 -1.053669e+00 -1.46232344 -0.01354850  0  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  67: 73.84366 64.15761 -9.562285e-01 -0.41940470 -2.67637889  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  68: 47.70464 61.77510 -9.451874e-01  0.57684701  0.12131445  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  69: 50.25840 62.26019  2.247884e-01 -0.60692236 -0.50054324  0  0  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  70: 82.33657 64.39757  3.594552e-01 -0.06921954  1.37967791  1  0  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  71: 45.88178 59.45799 -6.637104e-01  1.33394384 -0.40598666  0  0  1  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  72: 42.38993 47.80939 -1.265082e-01 -0.76774206  1.39593194  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  73: 71.89668 63.67757  1.642374e+00  0.55319467  0.73859616  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  74: 48.05875 52.65778 -5.070985e-01 -1.70865790  0.73661415  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  75: 74.84172 61.88597 -5.184870e-01 -0.52672810 -0.73308795  0  1  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  76: 91.60804 63.32283  1.343653e+00  2.06376423 -1.89839605  0  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  77: 87.40961 59.72468  8.748702e-02  0.42372826  0.44587930  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  78: 65.89167 60.84810  5.376727e-01  1.00855573  0.45626086  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  79: 58.56517 65.99554  1.492186e+00  1.36114180 -1.52619721  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  80: 71.10492 64.14804  8.767927e-01 -0.10595486 -0.08058262  0  0  1  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  81: 77.02966 66.49966  4.958852e-01  0.04150070 -0.34001061  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  82: 71.90150 53.59561 -2.473539e-01  1.11989772  0.05368080  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  83: 71.35316 55.32200 -7.287776e-01  0.23916287 -0.69163485  0  1  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  84: 55.30238 61.83689  8.741936e-01 -1.03908394 -0.30349490  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  85: 22.60817 59.94846 -7.606030e-01 -0.49175571 -1.19501405  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  86: 58.87421 57.04893  4.029195e-01  0.38418962  1.01973592  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  87: 46.09025 64.62609 -5.317420e-01 -0.14747227 -0.47844422  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  88: 78.52232 59.53003  1.193348e-05 -0.65047518 -0.65949205  1  1  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  89: 62.74970 64.89474  8.181784e-01  0.05630389  0.67887965  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  90: 72.57549 55.50661  2.691192e-01 -0.24660122 -0.10535533  1  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  91: 70.05943 61.18653 -3.880011e-01  1.23622156 -0.45371767  0  1  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  92: 39.53909 56.46051 -3.247585e-01 -0.17832690  1.34143863  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  93: 69.97910 53.47501  1.680009e+00  1.23646958  0.98595720  0  0  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  94: 70.89334 64.13688 -2.880736e+00 -1.08216683 -1.19546478  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  95: 64.40614 62.91072  6.221381e-01 -0.49419020 -0.57485857  1  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  96: 45.97832 53.21347 -2.203552e+00 -1.71111303  0.98199136  1  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  97: 78.72715 61.59434 -2.726918e-01  0.04005805 -1.65738323  0  0  0  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  98: 34.65440 58.68629 -9.221195e-01 -0.56114348 -1.11964693  0  0  0  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  99: 82.23566 54.07995 -3.062827e-01 -2.55736206 -1.17082441  0  1  1  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100: 76.36865 60.93626  2.536559e+00 -0.69677881 -1.13905161  0  0  0  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            X6       X7            X8          X9         X10 X1 X2 X3 X4 X5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       eventtime  censtime       time event</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:  6.7778319 10.855483  6.7778319     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:  9.9851341 11.645024  9.9851341     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:  0.8401512  7.704695  0.8401512     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:  8.5391295 16.957550  8.5391295     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5: 14.9499500  8.706974  8.7069741     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6:  2.6489767  8.521409  2.6489767     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7:  1.3483311  4.558061  1.3483311     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8:  0.5893505  9.966877  0.5893505     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   9:  2.4964235  7.772476  2.4964235     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  10: 18.8061049 13.305700 13.3057001     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  11: 12.0984084  6.855722  6.8557222     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  12: 21.3980774  3.540841  3.5408414     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  13:  7.8763135 11.276980  7.8763135     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  14:  4.8244485  9.592070  4.8244485     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  15:  4.3768039  5.206590  4.3768039     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  16:  9.3937423  6.339864  6.3398641     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  17:  8.5220276 12.596186  8.5220276     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  18:  1.4842932 10.141747  1.4842932     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  19: 10.6713543 10.114892 10.1148916     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  20:  1.7064612  6.088043  1.7064612     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  21:  2.8615077  7.899199  2.8615077     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  22:  1.9236250  5.842592  1.9236250     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  23:  5.5264960  7.869236  5.5264960     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  24: 12.0467048  5.376368  5.3763684     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  25:  4.3452714  9.312674  4.3452714     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  26:  3.9798130 13.280201  3.9798130     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  27:  9.7418576  5.108553  5.1085530     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  28:  1.6712251  3.544233  1.6712251     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  29: 14.2462641  7.742614  7.7426139     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  30: 29.8433725 11.318694 11.3186940     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  31: 14.9946246  8.466481  8.4664812     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  32:  1.2118202  2.723590  1.2118202     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  33: 18.4143115 10.264338 10.2643379     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  34: 26.0671465  2.166248  2.1662481     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  35:  6.0249198  6.028674  6.0249198     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  36:  0.6641801  3.422689  0.6641801     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  37: 22.5921361 13.086399 13.0863995     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  38: 40.7684690  6.804431  6.8044311     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  39: 10.9267374  1.024241  1.0242411     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  40:  0.4892511 14.275858  0.4892511     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  41:  4.3338206 10.519805  4.3338206     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  42: 11.2127745  3.806395  3.8063949     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  43:  4.5942554  5.015606  4.5942554     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  44:  4.9708097  4.354121  4.3541213     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  45: 16.6936971  7.108448  7.1084479     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  46:  6.3725349  8.431128  6.3725349     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  47:  5.0931095  4.979978  4.9799783     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  48:  4.7723257  3.507726  3.5077262     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  49:  3.9452410 12.536322  3.9452410     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  50:  9.9472450 10.865670  9.9472450     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  51:  6.5412516 10.521684  6.5412516     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  52:  1.2047660 12.712452  1.2047660     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  53:  3.2931742 12.021729  3.2931742     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  54:  2.8338257 11.363962  2.8338257     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  55: 36.7224759  7.248422  7.2484217     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  56:  8.9401593 11.716753  8.9401593     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  57: 36.2736286 14.462426 14.4624255     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  58:  1.4994490 12.124707  1.4994490     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  59:  0.8575735  7.175479  0.8575735     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  60:  3.8093308 12.465804  3.8093308     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  61:  1.0798844  8.766498  1.0798844     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  62:  1.2428148  6.597368  1.2428148     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  63:  0.4860709  2.005622  0.4860709     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  64: 22.4887895  6.252786  6.2527863     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  65:  0.7896928  8.996379  0.7896928     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  66: 22.7244665 10.138315 10.1383154     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  67:  4.7921419  8.864827  4.7921419     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  68: 14.6746626  8.993059  8.9930592     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  69: 18.5979601 11.857990 11.8579898     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  70:  1.6670672  6.039686  1.6670672     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  71: 24.7839327  9.413590  9.4135900     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  72:  5.7111205 10.562092  5.7111205     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  73:  2.2063292  7.467459  2.2063292     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  74:  6.8294418  1.831877  1.8318769     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  75:  2.4217336  6.425135  2.4217336     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  76:  4.6512264  6.859208  4.6512264     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  77:  3.5804775  3.933475  3.5804775     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  78:  9.7949584  5.051511  5.0515106     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  79:  9.6808401  4.260157  4.2601571     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  80:  5.4480162 15.463842  5.4480162     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  81:  1.6643375  8.817941  1.6643375     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  82:  6.2972809  7.154224  6.2972809     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  83:  0.9294319  2.892817  0.9294319     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  84:  7.6141555  1.316250  1.3162500     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  85: 16.2001667 18.098005 16.2001667     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  86: 11.4249161  7.404659  7.4046588     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  87: 20.8327994  5.569390  5.5693901     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  88:  0.4273145 11.795497  0.4273145     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  89:  3.3500529 10.961390  3.3500529     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  90:  0.5275823  5.567523  0.5275823     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  91:  4.1258922  3.125110  3.1251101     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  92:  5.5389253 12.496082  5.5389253     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  93:  1.8459367 10.133296  1.8459367     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  94:  9.9258411  8.957090  8.9570896     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  95:  1.2407218  3.134412  1.2407218     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  96:  4.6466306  9.711062  4.6466306     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  97:  1.9163111  8.116795  1.9163111     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  98: 14.5709719 14.413642 14.4136417     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  99:  1.0470911 18.712860  1.0470911     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100:  2.2608531  5.089427  2.2608531     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       eventtime  censtime       time event</span>
<span class="r-in"><span><span class="co"># then fit a Cox model</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hbiostat.org/R/rms/" class="external-link">rms</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cphmodel</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rms/man/cph.html" class="external-link">cph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">event</span><span class="op">)</span><span class="op">~</span><span class="va">X1</span><span class="op">+</span><span class="va">X2</span>,data<span class="op">=</span><span class="va">d</span>,surv<span class="op">=</span><span class="cn">TRUE</span>,x<span class="op">=</span><span class="cn">TRUE</span>,y<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># or via survival</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">coxphmodel</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">coxph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">event</span><span class="op">)</span><span class="op">~</span><span class="va">X1</span><span class="op">+</span><span class="va">X2</span>,data<span class="op">=</span><span class="va">d</span>,x<span class="op">=</span><span class="cn">TRUE</span>,y<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract predicted survival probabilities</span></span></span>
<span class="r-in"><span><span class="co"># at selected time-points:</span></span></span>
<span class="r-in"><span><span class="va">ttt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">time</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># for selected predictor values:</span></span></span>
<span class="r-in"><span><span class="va">ndat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>X1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>,<span class="fl">0.25</span>,<span class="op">-</span><span class="fl">0.05</span>,<span class="fl">0.05</span><span class="op">)</span>,X2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># as follows</span></span></span>
<span class="r-in"><span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">cphmodel</span>,newdata<span class="op">=</span><span class="va">ndat</span>,times<span class="op">=</span><span class="va">ttt</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             [,1]      [,2]      [,3]      [,4]      [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.010423552 0.2498546 0.4661259 0.6749391 0.9490180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.011569784 0.2733328 0.5019288 0.7129324 0.9633185</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.007190205 0.1796201 0.3509290 0.5387894 0.8712277</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.009034264 0.2204172 0.4193263 0.6221600 0.9240581</span>
<span class="r-in"><span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">coxphmodel</span>,newdata<span class="op">=</span><span class="va">ndat</span>,times<span class="op">=</span><span class="va">ttt</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             [,1]      [,2]      [,3]      [,4]      [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.010423555 0.2498546 0.4661259 0.6749389 0.9490178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.011569787 0.2733328 0.5019287 0.7129322 0.9633183</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.007190219 0.1796204 0.3509294 0.5387898 0.8712279</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.009034276 0.2204174 0.4193266 0.6221602 0.9240581</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># stratified cox model</span></span></span>
<span class="r-in"><span><span class="va">sfit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">coxph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">event</span><span class="op">)</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/strata.html" class="external-link">strata</a></span><span class="op">(</span><span class="va">X1</span><span class="op">)</span><span class="op">+</span><span class="va">X2</span>,data<span class="op">=</span><span class="va">d</span>,x<span class="op">=</span><span class="cn">TRUE</span>,y<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">sfit</span>,newdata<span class="op">=</span><span class="va">d</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="op">]</span>,times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">5</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]     [,2]      [,3]     [,4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.07654315 0.281073 0.4322176 0.689776</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.07654315 0.281073 0.4322176 0.689776</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.07654315 0.281073 0.4322176 0.689776</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## simulate learning and validation data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">learndat</span> <span class="op">&lt;-</span> <span class="fu"><a href="sampleData.html">sampleData</a></span><span class="op">(</span><span class="fl">100</span>,outcome<span class="op">=</span><span class="st">"survival"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">valdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="sampleData.html">sampleData</a></span><span class="op">(</span><span class="fl">100</span>,outcome<span class="op">=</span><span class="st">"survival"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## use the learning data to fit a Cox model</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fitCox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">coxph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">event</span><span class="op">)</span><span class="op">~</span><span class="va">X1</span><span class="op">+</span><span class="va">X2</span>,data<span class="op">=</span><span class="va">learndat</span>,x<span class="op">=</span><span class="cn">TRUE</span>,y<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## suppose we want to predict the survival probabilities for all subjects</span></span></span>
<span class="r-in"><span><span class="co">## in the validation data at the following time points:</span></span></span>
<span class="r-in"><span><span class="co">## 0, 12, 24, 36, 48, 60</span></span></span>
<span class="r-in"><span><span class="va">psurv</span> <span class="op">&lt;-</span> <span class="fu">predictRisk</span><span class="op">(</span><span class="va">fitCox</span>,newdata<span class="op">=</span><span class="va">valdat</span>,times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">60</span>,<span class="fl">12</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## This is a matrix with event probabilities (1-survival)</span></span></span>
<span class="r-in"><span><span class="co">## one column for each of the 5 time points</span></span></span>
<span class="r-in"><span><span class="co">## one row for each validation set individual</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://www.randomforestsrc.org/" class="external-link">"randomForestSRC"</a></span>,quietly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Do the same for a randomSurvivalForest model</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.randomforestsrc.org/" class="external-link">randomForestSRC</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rsfmodel</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://www.randomforestsrc.org//reference/rfsrc.html" class="external-link">rfsrc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">event</span><span class="op">)</span><span class="op">~</span><span class="va">X1</span><span class="op">+</span><span class="va">X2</span>,data<span class="op">=</span><span class="va">learndat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">prsfsurv</span><span class="op">=</span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">rsfmodel</span>,newdata<span class="op">=</span><span class="va">valdat</span>,times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">60</span>,<span class="fl">12</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">psurv</span>,<span class="va">prsfsurv</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  randomForestSRC 3.1.1 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  Type rfsrc.news() to see new features, changes, and bug fixes. </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘randomForestSRC’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:Hmisc’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     impute</span>
<span class="r-plt img"><img src="predictRisk-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">## Cox with ridge option</span></span></span>
<span class="r-in"><span><span class="va">f1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">coxph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">event</span><span class="op">)</span><span class="op">~</span><span class="va">X1</span><span class="op">+</span><span class="va">X2</span>,data<span class="op">=</span><span class="va">learndat</span>,x<span class="op">=</span><span class="cn">TRUE</span>,y<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">coxph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">event</span><span class="op">)</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/ridge.html" class="external-link">ridge</a></span><span class="op">(</span><span class="va">X1</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/ridge.html" class="external-link">ridge</a></span><span class="op">(</span><span class="va">X2</span><span class="op">)</span>,data<span class="op">=</span><span class="va">learndat</span>,x<span class="op">=</span><span class="cn">TRUE</span>,y<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">f1</span>,newdata<span class="op">=</span><span class="va">valdat</span>,times<span class="op">=</span><span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     <span class="fu">riskRegression</span><span class="fu">:::</span><span class="fu">predictRisk.coxph</span><span class="op">(</span><span class="va">f2</span>,newdata<span class="op">=</span><span class="va">valdat</span>,times<span class="op">=</span><span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     xlab<span class="op">=</span><span class="st">"Unpenalized predicted survival chance at 10"</span>,</span></span>
<span class="r-in"><span>     ylab<span class="op">=</span><span class="st">"Ridge predicted survival chance at 10"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># aalen model</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/scheike/timereg" class="external-link">timereg</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sTRACE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/timereg/man/aalen.html" class="external-link">aalen</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>, <span class="va">status</span><span class="op">==</span><span class="fl">9</span><span class="op">)</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">diabetes</span> <span class="op">+</span> <span class="va">chf</span> <span class="op">+</span> <span class="va">vf</span>,</span></span>
<span class="r-in"><span>             data<span class="op">=</span><span class="va">sTRACE</span>, max.time<span class="op">=</span><span class="fl">7</span>, n.sim<span class="op">=</span><span class="fl">0</span>, resample.iid<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/methods.html" class="external-link">methods</a></span><span class="op">(</span><span class="va">predictRisk</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] predictRisk.ARR*              predictRisk.BinaryTree*      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3] predictRisk.CSCTD*            predictRisk.CauseSpecificCox*</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] predictRisk.Cforest*          predictRisk.Ctree*           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] predictRisk.FGR*              predictRisk.Hal9001*         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] predictRisk.SmcFcs*           predictRisk.SuperPredictor*  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] predictRisk.aalen*            predictRisk.comprisk*        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] predictRisk.cox.aalen*        predictRisk.coxph*           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15] predictRisk.coxph.penal*      predictRisk.coxphTD*         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] predictRisk.cph*              predictRisk.default*         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19] predictRisk.double*           predictRisk.factor*          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] predictRisk.flexsurvreg*      predictRisk.formula*         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [23] predictRisk.gbm*              predictRisk.glm*             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] predictRisk.integer*          predictRisk.lrm*             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [27] predictRisk.matrix*           predictRisk.numeric*         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29] predictRisk.penfitS3*         predictRisk.prodlim*         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31] predictRisk.psm*              predictRisk.randomForest*    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [33] predictRisk.ranger*           predictRisk.rfsrc*           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [35] predictRisk.riskRegression*   predictRisk.rpart*           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] predictRisk.selectCox*        predictRisk.singleEventCB*   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [39] predictRisk.survfit*          predictRisk.wglm*            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> see '?methods' for accessing help and source code</span>
<span class="r-in"><span><span class="fu">predictRisk</span><span class="op">(</span>object<span class="op">=</span><span class="va">out</span>, newdata<span class="op">=</span><span class="va">sTRACE</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,<span class="op">]</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]      [,2]      [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.13276065 0.1527032 0.3338844</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.29023296 0.4037530 0.4707787</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.16314745 0.1720763 0.3082224</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.06548308 0.1300500 0.1802130</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.29023296 0.4037530 0.4707787</span>
<span class="r-in"><span><span class="co"># cox.aalen model</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/scheike/timereg" class="external-link">timereg</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sTRACE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/timereg/man/cox.aalen.html" class="external-link">cox.aalen</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">status</span><span class="op">==</span><span class="fl">9</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/timereg/man/prop.html" class="external-link">prop</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/pkg/timereg/man/prop.html" class="external-link">prop</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>                 <span class="fu"><a href="https://rdrr.io/pkg/timereg/man/prop.html" class="external-link">prop</a></span><span class="op">(</span><span class="va">diabetes</span><span class="op">)</span> <span class="op">+</span> <span class="va">chf</span> <span class="op">+</span> <span class="va">vf</span>,</span></span>
<span class="r-in"><span>                 data<span class="op">=</span><span class="va">sTRACE</span>, max.time<span class="op">=</span><span class="fl">7</span>, n.sim<span class="op">=</span><span class="fl">0</span>, resample.iid<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">predictRisk</span><span class="op">(</span>object<span class="op">=</span><span class="va">out</span>, newdata<span class="op">=</span><span class="va">sTRACE</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,<span class="op">]</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]       [,2]       [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.32632106 0.52374574 0.64521719</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.23153154 0.33950481 0.43961206</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.16137518 0.28144167 0.36978737</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.03820648 0.07054552 0.09714745</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.11912674 0.18107749 0.24340542</span>
<span class="r-in"><span><span class="co">## competing risks</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tagteam/riskRegression" class="external-link">riskRegression</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">prodlim</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">train</span> <span class="op">&lt;-</span> <span class="fu">prodlim</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/prodlim/man/SimCompRisk.html" class="external-link">SimCompRisk</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">prodlim</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/prodlim/man/SimCompRisk.html" class="external-link">SimCompRisk</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cox.fit</span>  <span class="op">&lt;-</span> <span class="fu"><a href="CSC.html">CSC</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/prodlim/man/Hist.html" class="external-link">Hist</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">cause</span><span class="op">)</span><span class="op">~</span><span class="va">X1</span><span class="op">+</span><span class="va">X2</span>,data<span class="op">=</span><span class="va">train</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">cox.fit</span>,newdata<span class="op">=</span><span class="va">test</span>,times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>,cause<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              [,1]        [,2]       [,3]       [,4]      [,5]      [,6]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 0.144806515 0.275434556 0.67958151 0.81118472 0.8274293 0.8277001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 0.011516596 0.023764778 0.09481030 0.19292749 0.3257215 0.5138127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 0.057306131 0.114845758 0.37872958 0.59967107 0.7311212 0.7712113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 0.047501481 0.095765902 0.32766886 0.54326741 0.6958771 0.7599860</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 0.004234053 0.008788342 0.03659320 0.07870018 0.1444417 0.2650359</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 0.007962323 0.016474677 0.06700471 0.13986425 0.2454039 0.4147890</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 0.007879554 0.016304487 0.06634406 0.13857110 0.2433633 0.4120425</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 0.007639072 0.015810211 0.06443404 0.13484580 0.2375075 0.4041946</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 0.011795872 0.024336668 0.09697227 0.19698084 0.3316594 0.5205976</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 0.003812279 0.007916189 0.03306765 0.07139362 0.1317805 0.2442848</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,7]      [,8]      [,9]     [,10]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 0.8277001 0.8277001 0.8277001 0.8277001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 0.5594824 0.6246954 0.6246954 0.6677454</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 0.7724152 0.7727632 0.7727632 0.7727528</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 0.7633014 0.7647366 0.7647366 0.7646691</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 0.3023750 0.3683929 0.3683929 0.4593596</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 0.4612123 0.5347473 0.5347473 0.6038760</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 0.4584003 0.5320090 0.5320090 0.6017782</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 0.4503738 0.5242331 0.5242331 0.5961164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 0.5660294 0.6303919 0.6303919 0.6718239</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 0.2795921 0.3428307 0.3428307 0.4343004</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## with strata</span></span></span>
<span class="r-in"><span><span class="va">cox.fit2</span>  <span class="op">&lt;-</span> <span class="fu"><a href="CSC.html">CSC</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/prodlim/man/Hist.html" class="external-link">Hist</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">cause</span><span class="op">)</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/strata.html" class="external-link">strata</a></span><span class="op">(</span><span class="va">X1</span><span class="op">)</span><span class="op">+</span><span class="va">X2</span>,<span class="fu"><a href="https://rdrr.io/pkg/prodlim/man/Hist.html" class="external-link">Hist</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">cause</span><span class="op">)</span><span class="op">~</span><span class="va">X1</span><span class="op">+</span><span class="va">X2</span><span class="op">)</span>,data<span class="op">=</span><span class="va">train</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">predictRisk</span><span class="op">(</span><span class="va">cox.fit2</span>,newdata<span class="op">=</span><span class="va">test</span>,times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>,cause<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              [,1]        [,2]       [,3]       [,4]      [,5]      [,6]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 0.172457070 0.325326975 0.72929990 0.84001775 0.8460481 0.8465250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 0.013176588 0.027403774 0.10323577 0.21877541 0.2916991 0.5119577</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 0.067407862 0.135468280 0.41620167 0.65466424 0.7281022 0.7847352</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 0.055707136 0.112751746 0.36052955 0.59875440 0.6849512 0.7725789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 0.004756617 0.009957348 0.03920325 0.08861379 0.1235659 0.2569338</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 0.009049122 0.018876870 0.07255091 0.15841347 0.2156430 0.4091811</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 0.008953349 0.018678450 0.07182359 0.15693892 0.2137434 0.4063537</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 0.000000000 0.000000000 0.02768993 0.05701497 0.2786914 0.4255735</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 0.000000000 0.000000000 0.04257674 0.08648227 0.3830628 0.5422681</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 0.000000000 0.000000000 0.01387713 0.02898972 0.1562693 0.2578489</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,7]      [,8]      [,9]     [,10]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 0.8465250 0.8465250 0.8465250        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 0.5635600 0.6305163 0.6305163        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 0.7854617 0.7853739 0.7853739        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 0.7754212 0.7759158 0.7759158        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 0.2971484 0.3595384 0.3595384        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 0.4606948 0.5337372 0.5337372        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 0.4577678 0.5308162 0.5308162        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 0.4637286 0.5339316 0.5339316 0.6009926</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 0.5780834 0.6361784 0.6361784 0.6717841</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 0.2876571 0.3491015 0.3491015 0.4380204</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/scheike/timereg" class="external-link">timereg</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">bmt</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">add</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/timereg/man/comp.risk.html" class="external-link">comp.risk</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/timereg/man/Event.html" class="external-link">Event</a></span><span class="op">(</span><span class="va">time</span>, <span class="va">cause</span><span class="op">)</span> <span class="op">~</span> <span class="va">platelet</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">tcell</span>, data<span class="op">=</span><span class="va">bmt</span>, cause<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ndata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>platelet<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, age<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>, tcell<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">predictRisk</span><span class="op">(</span>object<span class="op">=</span><span class="va">add</span>, newdata<span class="op">=</span><span class="va">ndata</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]      [,2]      [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.05843859 0.1292206 0.1962526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.16697142 0.2596885 0.3309030</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.04927461 0.1444174 0.1382852</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Thomas Alexander Gerds, Johan Sebastian Ohlendorff, Brice Ozenne.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

